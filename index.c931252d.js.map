{"mappings":"C,A,eEmBI,EAEA,E,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,C,E,S,E,S,E,S,E,S,I,E,E,SCnBJ,IAAM,EAAU,kCAED,OAAA,EACb,OAAO,WAAY,CACjB,IAAI,CAAC,IAAI,CAAG,CACd,CAEA,aAAc,CACZ,IAAI,CAAC,UAAU,CAAG,GAClB,IAAI,CAAC,IAAI,CAAG,EACZ,IAAI,CAAC,MAAM,CAAG,EAChB,CAEA,MAAM,YAAa,CACjB,GAAI,CAGF,IAAM,EAAW,MAAM,AAAA,CAAA,EAAA,EAAA,OAAI,AAAJ,EAAM,GAAG,CAFpB,4CAE0B,CACpC,OAAQ,CACN,QAAS,EACT,MAAO,IAAI,CAAC,UAAU,CACtB,KAAM,IAAI,CAAC,IAAI,AACjB,CACF,GAEA,OADA,IAAI,CAAC,aAAa,GACX,EAAS,IAAI,AACtB,CAAE,MAAO,EAAO,CACd,QAAQ,GAAG,CAAC,EAAM,OAAO,CAC3B,CACF,CAEA,MAAM,UAAW,CACf,GAAI,CAOF,MAAO,AALU,CAAA,MAAM,AAAA,CAAA,EAAA,EAAA,OAAI,AAAJ,EAAM,GAAG,CADpB,iEAC0B,CACpC,OAAQ,CACN,QAAS,CACX,CACF,EAAA,EACgB,IAAI,AACtB,CAAE,MAAO,EAAO,CACd,QAAQ,GAAG,CAAC,EAAM,OAAO,CAC3B,CACF,CAEA,eAAgB,CACd,IAAI,CAAC,IAAI,EAAI,CACf,CAEA,IAAI,OAAQ,CACV,OAAO,IAAI,CAAC,UAAU,AACxB,CACA,IAAI,MAAM,CAAQ,CAAE,CAClB,IAAI,CAAC,UAAU,CAAG,CACpB,CACF,C,I,E,E,S,E,E,S,E,E,SD/CA,IAAM,EAAO,CACX,WAAY,SAAS,aAAa,CAAC,uBACnC,QAAS,SAAS,aAAa,CAAC,YAChC,cAAe,SAAS,aAAa,CAAC,mBACtC,KAAM,SAAS,aAAa,CAAC,uBAC7B,eAAgB,SAAS,cAAc,CAAC,2BAE1C,EACI,EAAgB,CAAA,EAEhB,EAAa,GAKjB,eAAe,EAAe,CAAG,EAC/B,GAAI,CAUF,GATA,EAAI,cAAc,GAClB,EAAI,eAAe,GACnB,EAAK,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,aAErC,AAAA,EAAc,SAAS,GAIvB,AAFA,CAAA,EAAwB,IAAI,CAA5B,EAEsB,KAAK,CAAG,EAAI,aAAa,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CACtE,AAAgC,KAAhC,EAAsB,KAAK,CAAS,CAEtC,EAAK,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,aAEpC,EAAgB,CAAA,EAChB,AAAA,EAAA,WAAU,CAAE,IAAI,CAAG,EACnB,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,IACA,EAAK,aAAa,CAAC,SAAS,CAC1B,yDAEF,MACF,CACA,GAAI,AAAgC,KAAhC,EAAsB,KAAK,CAAS,CACtC,IAAM,EAAQ,MAAM,EAAsB,UAAU,GAIpD,GAFA,EAAc,EAAM,aAAa,CAE7B,EAAM,aAAa,CAAE,CACvB,EAAa,EAAsB,KAAK,CACxC,EAAsB,KAAK,CAC3B,EAAK,OAAO,CAAC,SAAS,CAAG,GACzB,AAAA,CAAA,EAAA,EAAA,UAAS,AAAT,EAAW,KAAK,CAAC,EAAM,aAAa,EACpC,GAAM,CAAA,QAAE,CAAO,CAAE,CAAG,EAEd,EAAc,AAAA,CAAA,EAAA,EAAA,eAAc,AAAd,EAAgB,EAEpC,OAAM,EAAgB,CAAE,GAAG,CAAK,CAAE,GAAG,CAAW,AAAC,GACjD,EAAgB,CAAA,CAElB,CAGF,CACA,GAAI,AAAgB,IAAhB,EAAmB,CACrB,EAAsB,KAAK,CAAG,EAC9B,EAAK,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,aAEpC,EAAK,aAAa,CAAC,SAAS,CAC1B,4EAEF,MACF,CAEA,EAAI,MAAM,CAAC,KAAK,EAClB,CAAE,MAAO,EAAO,CAEd,QAAQ,GAAG,CAAC,EACd,CACF,CAGA,eAAe,IAEb,GAAI,AAAgC,KAAhC,EAAsB,KAAK,CAAS,CACtC,IAAM,EAAQ,MAAM,EAAsB,UAAU,GAE9C,CAAA,QAAE,CAAO,CAAE,CAAG,EAEd,EAAc,AAAA,CAAA,EAAA,EAAA,eAAc,AAAd,EAAgB,EAEpC,OAAM,EAAgB,CAAE,GAAG,CAAK,CAAE,GAAG,CAAW,AAAC,EAEnD,CACF,CAeA,eAAe,EAAgB,CAAI,EACjC,EAAK,OAAO,CAAC,SAAS,CAAG,GACzB,EAAK,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,aAIjC,IAAM,EAAS,EAAK,OAAO,CACxB,GAAG,CAAC,CAAC,CAAA,GAAE,CAAE,CAAA,YAAE,CAAW,CAAA,MAAE,CAAK,CAAA,aAAE,CAAY,CAAA,UAAE,CAAS,CAAE,QApB5B,MAqBvB,EAcA,EAlCJ,EAwBI,EAFiB,KAAA,IAAjB,GACE,EAAa,MAAM,CAAG,EACjB,EAAa,KAAK,CAAC,EAAG,GAEtB,mBAMX,IAAM,GAjCqB,EAiCS,EAAA,gBAAe,CAhCnD,EAAS,EAAE,CAEf,AA8B6B,EA9BlB,OAAO,CAAC,AAAA,IACjB,IAAM,EAAa,EAAW,IAAI,CAAC,AAAA,GAAS,IAAY,EAAM,EAAE,EAE5D,GACF,EAAO,IAAI,CAAC,EAAW,IAAI,CAE/B,GACO,GA0BH,GAAK,EAAK,MAAM,EAET,GAAI,EAAK,MAAM,CAAG,EAAG,CAC1B,IAAM,EAAa,EAAK,KAAK,CAAC,EAAG,GACjC,EAAW,IAAI,CAAC,SAEhB,EAAiB,EAAW,IAAI,CAAC,KACnC,MACE,EAAiB,EAAK,IAAI,CAAC,WAP3B,EAAiB,CAAC,mBAAmB,CAUvC,MAAO,CAAC;qCACuB,EAAE,EAAG;sBACpB,EAAE,EAAG;;;mDAGwB,EAAE,EAAY;sDACX,EAAE,EAAY;;mDAEjB,EAAE,EAAY;mDACd,EAAE,EAAY;;mDAEd,EAAE,EAAY;mDACd,EAAE,EAAY;kBAC/C,EAAE,EAAG;;8CAEuB,EAAE,EAAY;eAC7C,EAAE,EAAM;;;;kCAIW,EAAE,EAAM;6CACG,EAAE,EAAG;wCACV,EAAE,EAAG,GAAG,EAAE,EAAe,QAAQ,EAAE,EAAK;;;;MAI1E,CAAC,AACH,GACC,IAAI,CAAC,IACR,AAAA,CAAA,EAAA,EAAA,SAAQ,AAAR,EAAU,EACZ,CA5JA,EAAK,UAAU,CAAC,gBAAgB,CAAC,SAAU,GA8J3C,AAAA,CAAA,EAAA,EAAA,UAAS,AAAT,EAAW,EAAE,CAAC,YAAa,MAAM,IAC/B,IAAM,EAAc,EAAM,IAAI,CAC9B,GAAI,EAAe,CACjB,IAAM,EAAc,EAAM,IAAI,AAE9B,CAAA,EAAsB,IAAI,CAAG,EAC7B,MAAM,GAER,KACE,AAAA,CAAA,EAAA,EAAA,eAAc,AAAd,EAAgB,EAGpB,G,E,Q","sources":["<anon>","src/main.js","src/js/keyMovieQuery.js","src/js/keyMovieFetch.js"],"sourcesContent":["(function () {\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire0487\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire0487\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRequire(\"8dLlr\");\nparcelRequire(\"kvC6y\");\nparcelRequire(\"hXsLy\");\nparcelRequire(\"jcFG7\");\n\nvar $dIxxU = parcelRequire(\"dIxxU\");\nconst $115ae4e0f3758354$var$URL_KEY = \"a51a9bb0cd5bc1ed985d30c82a20bd57\";\nclass $115ae4e0f3758354$export$2e2bcd8739ae039 {\n    static resetPage() {\n        this.page = 1;\n    }\n    constructor(){\n        this.inputValue = \"\";\n        this.page = 1;\n        this.genres = \"\";\n    }\n    async fetchMovie() {\n        try {\n            const url = \"https://api.themoviedb.org/3/search/movie\";\n            const response = await (0, $dIxxU.default).get(url, {\n                params: {\n                    api_key: $115ae4e0f3758354$var$URL_KEY,\n                    query: this.inputValue,\n                    page: this.page\n                }\n            });\n            this.incrementPage();\n            return response.data;\n        } catch (error) {\n            console.log(error.message);\n        }\n    }\n    async getGenre() {\n        try {\n            const url = \"https://api.themoviedb.org/3/genre/movie/list?&language=en-US`\";\n            const response = await (0, $dIxxU.default).get(url, {\n                params: {\n                    api_key: $115ae4e0f3758354$var$URL_KEY\n                }\n            });\n            return response.data;\n        } catch (error) {\n            console.log(error.message);\n        }\n    }\n    incrementPage() {\n        this.page += 1;\n    }\n    get value() {\n        return this.inputValue;\n    }\n    set value(newValue) {\n        this.inputValue = newValue;\n    }\n}\n\n\n\nvar $8dLlr = parcelRequire(\"8dLlr\");\n\nvar $jcFG7 = parcelRequire(\"jcFG7\");\n\nvar $5Beei = parcelRequire(\"5Beei\");\nconst $7d7a82d83cf4dcfc$var$refs = {\n    searchForm: document.querySelector(\".header-search-form\"),\n    gallery: document.querySelector(\".gallery\"),\n    searchMessage: document.querySelector(\".header-message\"),\n    page: document.querySelector('a[data-page=\"home\"]'),\n    paginationCont: document.getElementById(\"tui-pagination-container\")\n};\nlet $7d7a82d83cf4dcfc$var$SEARCH_ACTIVE = false;\nlet $7d7a82d83cf4dcfc$var$total_films;\nlet $7d7a82d83cf4dcfc$var$prevSearch = \"\";\nlet $7d7a82d83cf4dcfc$var$keyMovieFetchInstance;\n$7d7a82d83cf4dcfc$var$refs.searchForm.addEventListener(\"submit\", $7d7a82d83cf4dcfc$var$onSearchSubmit);\nasync function $7d7a82d83cf4dcfc$var$onSearchSubmit(evt) {\n    try {\n        evt.preventDefault();\n        evt.stopPropagation();\n        $7d7a82d83cf4dcfc$var$refs.paginationCont.classList.remove(\"is-hidden\");\n        (0, $115ae4e0f3758354$export$2e2bcd8739ae039).resetPage();\n        $7d7a82d83cf4dcfc$var$keyMovieFetchInstance = new (0, $115ae4e0f3758354$export$2e2bcd8739ae039)();\n        $7d7a82d83cf4dcfc$var$keyMovieFetchInstance.value = evt.currentTarget.elements.searchQuery.value;\n        if ($7d7a82d83cf4dcfc$var$keyMovieFetchInstance.value === \"\") {\n            $7d7a82d83cf4dcfc$var$refs.searchMessage.classList.remove(\"is-hidden\");\n            $7d7a82d83cf4dcfc$var$SEARCH_ACTIVE = false;\n            (0, $8dLlr.requireData).page = 1;\n            (0, $8dLlr.loadPage)();\n            $7d7a82d83cf4dcfc$var$refs.searchMessage.innerHTML = \"I can`t find an empty request. Please input something.\";\n            return;\n        }\n        if ($7d7a82d83cf4dcfc$var$keyMovieFetchInstance.value !== \"\") {\n            const fetch = await $7d7a82d83cf4dcfc$var$keyMovieFetchInstance.fetchMovie();\n            $7d7a82d83cf4dcfc$var$total_films = fetch.total_results;\n            if (fetch.total_results) {\n                $7d7a82d83cf4dcfc$var$prevSearch = $7d7a82d83cf4dcfc$var$keyMovieFetchInstance.value;\n                $7d7a82d83cf4dcfc$var$keyMovieFetchInstance.value;\n                $7d7a82d83cf4dcfc$var$refs.gallery.innerHTML = \"\";\n                (0, $jcFG7.pagination).reset(fetch.total_results);\n                const { results: results } = fetch;\n                const CheckImgUrl = (0, $5Beei.filmCheckImgUrl)(results);\n                await $7d7a82d83cf4dcfc$var$createMarkupKey({\n                    ...fetch,\n                    ...CheckImgUrl\n                });\n                $7d7a82d83cf4dcfc$var$SEARCH_ACTIVE = true;\n            }\n        }\n        if ($7d7a82d83cf4dcfc$var$total_films === 0) {\n            $7d7a82d83cf4dcfc$var$keyMovieFetchInstance.value = $7d7a82d83cf4dcfc$var$prevSearch;\n            $7d7a82d83cf4dcfc$var$refs.searchMessage.classList.remove(\"is-hidden\");\n            $7d7a82d83cf4dcfc$var$refs.searchMessage.innerHTML = \"Search result not successful. Enter the correct movie name and try again.\";\n            return;\n        }\n        evt.target.reset();\n    } catch (error) {\n        console.log(error);\n    }\n}\nasync function $7d7a82d83cf4dcfc$var$renderGalleryKey() {\n    if ($7d7a82d83cf4dcfc$var$keyMovieFetchInstance.value !== \"\") {\n        const fetch = await $7d7a82d83cf4dcfc$var$keyMovieFetchInstance.fetchMovie();\n        const { results: results } = fetch;\n        const CheckImgUrl = (0, $5Beei.filmCheckImgUrl)(results);\n        await $7d7a82d83cf4dcfc$var$createMarkupKey({\n            ...fetch,\n            ...CheckImgUrl\n        });\n    } else return;\n}\nfunction $7d7a82d83cf4dcfc$var$matchGenres(genreIdArr, genresFool) {\n    let result = [];\n    genreIdArr.forEach((genreId)=>{\n        const matchGenre = genresFool.find((genre)=>genreId === genre.id);\n        if (matchGenre) result.push(matchGenre.name);\n    });\n    return result;\n}\nasync function $7d7a82d83cf4dcfc$var$createMarkupKey(data) {\n    $7d7a82d83cf4dcfc$var$refs.gallery.innerHTML = \"\";\n    $7d7a82d83cf4dcfc$var$refs.searchMessage.classList.add(\"is-hidden\");\n    const markup = data.results.map(({ id: id, poster_path: poster_path, title: title, release_date: release_date, genre_ids: genre_ids })=>{\n        let year;\n        if (release_date !== undefined) {\n            if (release_date.length > 4) year = release_date.slice(0, 4);\n            else year = \"There is no info\";\n        } else year = \"There is no info\";\n        const genr = $7d7a82d83cf4dcfc$var$matchGenres(genre_ids, (0, $8dLlr.GENRES_FULL_INFO));\n        let formatedGenres;\n        if (!genr.length) formatedGenres = [\n            \"There is no info\"\n        ];\n        else if (genr.length > 2) {\n            const genresList = genr.slice(0, 2);\n            genresList.push(\"Other\");\n            formatedGenres = genresList.join(\", \");\n        } else formatedGenres = genr.join(\", \");\n        return `\n      <li class=\"card-set__item\" id=\"${id}\">\n      <a href='#' id='${id}' class=\"card-link\">\n      <picture>\n                    <source srcset=\"\n                    https://image.tmdb.org/t/p/w780${poster_path} 1x,\n                   https://image.tmdb.org/t/p/original${poster_path} 2x\" media=\"(min-width: 1280px)\" type=\"image/jpeg\" />\n                    <source srcset=\"\n                    https://image.tmdb.org/t/p/w342${poster_path} 1x,\n                    https://image.tmdb.org/t/p/w500${poster_path} 2x\" media=\"(min-width: 768px)\" type=\"image/jpeg\" />\n                    <source srcset=\"\n                    https://image.tmdb.org/t/p/w185${poster_path} 1x,\n                    https://image.tmdb.org/t/p/w342${poster_path} 2x\" media=\"(max-width: 480px)\" type=\"image/jpeg\" />\n         <img id=\"${id}\n          loading=\"lazy\"\n          src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\n          alt=\"${title}\"\n          class=\"card-set__img \"/>\n      </picture>\n     \n      <h3 class=\"card-set__title\">${title}</h3>\n      <div class=\"card-set__description\" id=\"${id}\">\n      <span class=\"card-set__genre\" id=\"${id}\"> ${formatedGenres} &nbsp| ${year}</span>\n        </div>\n      </a>\n      </li>\n      `;\n    }).join(\"\");\n    (0, $8dLlr.addToHTML)(markup);\n}\n(0, $jcFG7.pagination).on(\"afterMove\", async (event)=>{\n    const currentPage = event.page;\n    if ($7d7a82d83cf4dcfc$var$SEARCH_ACTIVE) {\n        const currentPage = event.page;\n        $7d7a82d83cf4dcfc$var$keyMovieFetchInstance.page = currentPage;\n        await $7d7a82d83cf4dcfc$var$renderGalleryKey();\n    //topFunction();\n    } else (0, $8dLlr.onPaginLoadMore)(currentPage);\n});\n\n\nparcelRequire(\"8vUUN\");\n\n})();\n//# sourceMappingURL=index.c931252d.js.map\n","import './js/popular-gallery.js';\nimport { loader } from './js/loader.js';\n\nimport { fetch } from './js/fetch-movie.js';\nimport { pagination } from './js/pagination.js';\nimport { keyMovieQuery } from './js/keyMovieQuery.js';\nimport './js/btn-modal.js';\n\n","import KeyMovieFetch from './keyMovieFetch.js';\nimport { addToHTML, loadPage } from './popular-gallery.js';\nimport {\n  GENRES_FULL_INFO,\n  onPaginLoadMore,\n  requireData,\n} from './popular-gallery.js';\nimport { pagination } from './pagination.js';\nimport { filmCheckImgUrl } from './popular-gallery-function.js';\n\nconst refs = {\n  searchForm: document.querySelector('.header-search-form'),\n  gallery: document.querySelector('.gallery'),\n  searchMessage: document.querySelector('.header-message'),\n  page: document.querySelector('a[data-page=\"home\"]'),\n  paginationCont: document.getElementById('tui-pagination-container'),\n  \n};\nlet SEARCH_ACTIVE = false;\nlet total_films;\nlet prevSearch = '';\nlet keyMovieFetchInstance;\nrefs.searchForm.addEventListener('submit', onSearchSubmit);\n\n\nasync function onSearchSubmit(evt) {\n  try {\n    evt.preventDefault();\n    evt.stopPropagation();\n    refs.paginationCont.classList.remove('is-hidden');\n    \n    KeyMovieFetch.resetPage()\n\n    keyMovieFetchInstance = new KeyMovieFetch();\n   \n    keyMovieFetchInstance.value = evt.currentTarget.elements.searchQuery.value;\n    if (keyMovieFetchInstance.value === '') {\n     \n      refs.searchMessage.classList.remove('is-hidden');\n     \n      SEARCH_ACTIVE = false;\n      requireData.page = 1;\n      loadPage();\n      refs.searchMessage.innerHTML =\n        'I can`t find an empty request. Please input something.';\n    \n      return;\n    }\n    if (keyMovieFetchInstance.value !== '') {\n      const fetch = await keyMovieFetchInstance.fetchMovie();\n   \n      total_films = fetch.total_results;\n    \n      if (fetch.total_results) {\n        prevSearch = keyMovieFetchInstance.value;\n        keyMovieFetchInstance.value\n        refs.gallery.innerHTML = '';\n        pagination.reset(fetch.total_results);\n        const { results } = fetch;\n\n        const CheckImgUrl = filmCheckImgUrl(results);\n       \n        await createMarkupKey({ ...fetch, ...CheckImgUrl });\n        SEARCH_ACTIVE = true;\n        \n      }\n\n      \n    }\n    if (total_films === 0) {\n      keyMovieFetchInstance.value = prevSearch;\n      refs.searchMessage.classList.remove('is-hidden');\n     \n      refs.searchMessage.innerHTML =\n        'Search result not successful. Enter the correct movie name and try again.';\n     \n      return;\n    }\n    \n    evt.target.reset();\n  } catch (error) {\n   \n    console.log(error);\n  }\n}\n\n\nasync function renderGalleryKey() {\n  \n  if (keyMovieFetchInstance.value !== '') {\n    const fetch = await keyMovieFetchInstance.fetchMovie();\n   \n    const { results } = fetch;\n\n    const CheckImgUrl = filmCheckImgUrl(results);\n   \n    await createMarkupKey({ ...fetch, ...CheckImgUrl });\n   \n  } else return;\n}\n\nfunction matchGenres(genreIdArr, genresFool) {\n  let result = [];\n\n  genreIdArr.forEach(genreId => {\n    const matchGenre = genresFool.find(genre => genreId === genre.id);\n\n    if (matchGenre) {\n      result.push(matchGenre.name);\n    }\n  });\n  return result;\n}\n\nasync function createMarkupKey(data) {\n  refs.gallery.innerHTML = '';\n  refs.searchMessage.classList.add('is-hidden');\n\n \n\n  const markup = data.results\n    .map(({ id, poster_path, title, release_date, genre_ids }) => {\n      let year;\n\n      if (release_date !== undefined) {\n        if (release_date.length > 4) {\n          year = release_date.slice(0, 4);\n        } else {\n          year = 'There is no info';\n        }\n      } else {\n        year = 'There is no info';\n      }\n\n      const genr = matchGenres(genre_ids, GENRES_FULL_INFO);\n\n      let formatedGenres;\n      if (!genr.length) {\n        formatedGenres = ['There is no info'];\n      } else if (genr.length > 2) {\n        const genresList = genr.slice(0, 2);\n        genresList.push('Other');\n\n        formatedGenres = genresList.join(', ');\n      } else {\n        formatedGenres = genr.join(', ');\n      }\n\n      return `\n      <li class=\"card-set__item\" id=\"${id}\">\n      <a href='#' id='${id}' class=\"card-link\">\n      <picture>\n                    <source srcset=\"\n                    https://image.tmdb.org/t/p/w780${poster_path} 1x,\n                   https://image.tmdb.org/t/p/original${poster_path} 2x\" media=\"(min-width: 1280px)\" type=\"image/jpeg\" />\n                    <source srcset=\"\n                    https://image.tmdb.org/t/p/w342${poster_path} 1x,\n                    https://image.tmdb.org/t/p/w500${poster_path} 2x\" media=\"(min-width: 768px)\" type=\"image/jpeg\" />\n                    <source srcset=\"\n                    https://image.tmdb.org/t/p/w185${poster_path} 1x,\n                    https://image.tmdb.org/t/p/w342${poster_path} 2x\" media=\"(max-width: 480px)\" type=\"image/jpeg\" />\n         <img id=\"${id}\n          loading=\"lazy\"\n          src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\n          alt=\"${title}\"\n          class=\"card-set__img \"/>\n      </picture>\n     \n      <h3 class=\"card-set__title\">${title}</h3>\n      <div class=\"card-set__description\" id=\"${id}\">\n      <span class=\"card-set__genre\" id=\"${id}\"> ${formatedGenres} &nbsp| ${year}</span>\n        </div>\n      </a>\n      </li>\n      `;\n    })\n    .join('');\n  addToHTML(markup);\n}\n\npagination.on('afterMove', async event => {\n  const currentPage = event.page;\n  if (SEARCH_ACTIVE) {\n    const currentPage = event.page;\n   \n    keyMovieFetchInstance.page = currentPage;\n    await renderGalleryKey();\n    //topFunction();\n  } else {\n    onPaginLoadMore(currentPage);\n    //topFunction();\n  }\n});\n","import axios from 'axios';\n\nconst URL_KEY = 'a51a9bb0cd5bc1ed985d30c82a20bd57';\n\nexport default class KeyMovieFetch {\n  static resetPage() {\n    this.page = 1;\n  }\n\n  constructor() {\n    this.inputValue = '';\n    this.page = 1;\n    this.genres = '';\n  }\n\n  async fetchMovie() {\n    try {\n      const url = 'https://api.themoviedb.org/3/search/movie';\n\n      const response = await axios.get(url, {\n        params: {\n          api_key: URL_KEY,\n          query: this.inputValue,\n          page: this.page,\n        },\n      });\n      this.incrementPage();\n      return response.data;\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n\n  async getGenre() {\n    try {\n      const url = 'https://api.themoviedb.org/3/genre/movie/list?&language=en-US`';\n      const response = await axios.get(url, {\n        params: {\n          api_key: URL_KEY,\n        },\n      });\n      return response.data;\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  get value() {\n    return this.inputValue;\n  }\n  set value(newValue) {\n    this.inputValue = newValue;\n  }\n}"],"names":["$7d7a82d83cf4dcfc$var$total_films","$7d7a82d83cf4dcfc$var$keyMovieFetchInstance","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$dIxxU","$115ae4e0f3758354$var$URL_KEY","$115ae4e0f3758354$export$2e2bcd8739ae039","resetPage","page","constructor","inputValue","genres","fetchMovie","response","default","get","params","api_key","query","incrementPage","data","error","console","log","message","getGenre","value","newValue","$8dLlr","$jcFG7","$5Beei","$7d7a82d83cf4dcfc$var$refs","searchForm","document","querySelector","gallery","searchMessage","paginationCont","getElementById","$7d7a82d83cf4dcfc$var$SEARCH_ACTIVE","$7d7a82d83cf4dcfc$var$prevSearch","$7d7a82d83cf4dcfc$var$onSearchSubmit","evt","preventDefault","stopPropagation","classList","remove","currentTarget","elements","searchQuery","requireData","loadPage","innerHTML","fetch","total_results","pagination","reset","results","CheckImgUrl","filmCheckImgUrl","$7d7a82d83cf4dcfc$var$createMarkupKey","target","$7d7a82d83cf4dcfc$var$renderGalleryKey","add","markup","map","poster_path","title","release_date","genre_ids","genresFool","year","formatedGenres","result","undefined","length","slice","genr","GENRES_FULL_INFO","genreIdArr","forEach","genreId","matchGenre","find","genre","push","name","genresList","join","addToHTML","addEventListener","on","event","currentPage","onPaginLoadMore"],"version":3,"file":"index.c931252d.js.map"}